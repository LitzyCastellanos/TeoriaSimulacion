fpdf2

from fpdf import FPDF
from datetime import datetime

def generar_pdf(resumen, archivo_salida):
    """
    resumen = diccionario de resumen_van(...)
    archivo_salida = ruta dentro de reports/pdf_generados/
    """

    pdf = FPDF()
    pdf.add_page()
    pdf.set_font("Arial", size=12)

    pdf.cell(200, 10, "Reporte Devimulator", ln=True, align='C')
    pdf.cell(200, 10, f"Fecha: {datetime.now().strftime('%d/%m/%Y %H:%M')}", ln=True)

    pdf.ln(10)
    pdf.set_font("Arial", size=11)

    pdf.cell(200, 10, "Resumen del VAN (Monte Carlo)", ln=True)

    for key, value in resumen.items():
        pdf.cell(200, 8, f"{key.upper()}: {value:,.2f}", ln=True)

    pdf.ln(10)
    pdf.cell(200, 10, "Devimulator Â© 2025", ln=True, align='C')

    pdf.output(archivo_salida)
    return archivo_salida
